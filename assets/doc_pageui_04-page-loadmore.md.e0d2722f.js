import{_ as s,o as a,c as n,b as l,d as o,e as p,a as t,r as e}from"./app.b322fe29.js";const r=JSON.parse('{"title":"加载更多","description":"","frontmatter":{},"headers":[{"level":3,"title":"演示代码","slug":"演示代码","link":"#演示代码","children":[]},{"level":3,"title":"Attributes","slug":"attributes","link":"#attributes","children":[]},{"level":3,"title":"method","slug":"method","link":"#method","children":[]},{"level":3,"title":"Event","slug":"event","link":"#event","children":[]}],"relativePath":"doc/pageui/04-page-loadmore.md","lastUpdated":1663311966000}'),c={name:"doc/pageui/04-page-loadmore.md"},F=o("h1",{id:"加载更多",tabindex:"-1"},[p("加载更多 "),o("a",{class:"header-anchor",href:"#加载更多","aria-hidden":"true"},"#")],-1),y=t('<div class="tip custom-block"><p class="custom-block-title">提示</p><ol><li>页面将使用 滚动区域 作为主体 ( 高度自动铺满屏幕 )、利用滚动区域触底事件来触发加载;</li><li>不适合全屏选项卡形式的加载，如需实现全屏选项卡形式的刷新请点击手册左侧发现解决方案;</li><li>内部使用了 page-loadmore 组件;</li><li>您也可以使用 page-loadmore 组件 在不使用 page-panel 组件的情况下实现各种模式的加载更多;</li></ol></div><h3 id="演示代码" tabindex="-1">演示代码 <a class="header-anchor" href="#演示代码" aria-hidden="true">#</a></h3><div class="language-html"><button class="copy"></button><span class="lang">html</span><pre><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">view</span><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">page-page-loadmore</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">page-loadmore</span><span style="color:#89DDFF;"> </span></span>\n<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">ref</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">pageloadmore</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span></span>\n<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">:loadMoreText</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">loadMoreText</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span></span>\n<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">:loadMoreColor</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">loadMoreColor</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span></span>\n<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">:loadMoreFontSize</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">loadMoreFontSize</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">page-loadmore</span><span style="color:#89DDFF;">&gt;</span></span>\n<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">view</span><span style="color:#89DDFF;">&gt;</span></span>\n<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">methods</span><span style="color:#89DDFF;">:{</span></span>\n<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">loadmorefun</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span></span>\n<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;">//正在请求时不执行</span></span>\n<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">if</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">apiLoadingStatus</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">;}</span></span>\n<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;">// 获取加载组件状态看一下是否还能继续加载</span></span>\n<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;">// 保证触底只执行一次加载</span></span>\n<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">if</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">loadMoreTimer</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">!=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">null</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">{</span><span style="color:#82AAFF;">clearTimeout</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">loadMoreTimer</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;}</span></span>\n<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">loadMoreTimer</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;">  </span><span style="color:#82AAFF;">setTimeout</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>\n<span class="line"><span style="color:#F07178;">        </span><span style="color:#C792EA;">var</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">status</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">$refs</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">pageloadmore</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">loadMoreStatus</span><span style="color:#89DDFF;">;</span></span>\n<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">if</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">status</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">!=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">null;}</span></span>\n<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">$refs</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">pageloadmore</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">loading</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>\n<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">this.</span><span style="color:#82AAFF;">$emit</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">loadmorefun</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;">  </span></span>\n<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">},</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">80</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>\n<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span></span>\n<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">stoploadmore</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(){</span></span>\n<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">$refs</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">pageloadmore</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">stoploadmore</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>\n<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span></span>\n<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">nomore</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>\n<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">$refs</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">pageloadmore</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">nomore</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>\n<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>\n<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>\n<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>\n<span class="line"></span></code></pre></div><h3 id="attributes" tabindex="-1">Attributes <a class="header-anchor" href="#attributes" aria-hidden="true">#</a></h3><div class="table-custom"><table><thead><tr><th>参数</th><th>说明</th><th>类型</th><th>默认值</th></tr></thead><tbody><tr><td>loadMoreText</td><td>加载过程中展示的文本</td><td>Array</td><td>[&#39;&#39;,&#39;更多数据加载中&#39;, &#39;已加载全部数据&#39;,&#39;暂无数据&#39;]</td></tr><tr><td>loadMoreColor</td><td>加载过程中组件的文本颜色</td><td>Array</td><td>[&#39;rgba(69, 90, 100, 0.6)&#39;, &#39;rgba(69, 90, 100, 0.6)&#39;, &#39;rgba(#90827D, 0.6)&#39;, &#39;rgba(69, 90, 100, 0.6)&#39;]</td></tr><tr><td>loadMoreFontSize</td><td>组件文本尺寸</td><td>String</td><td>26</td></tr><tr><td>status</td><td>初始化加载状态 0 准备加载 1 加载中 2 加载到底 3 为空展示</td><td>Number</td><td>0</td></tr></tbody></table></div><h3 id="method" tabindex="-1">method <a class="header-anchor" href="#method" aria-hidden="true">#</a></h3><div class="table-custom"><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td>loading()</td><td>开启加载动画，用于加载过程</td></tr><tr><td>stoploadmore()</td><td>停止加载动画，准备下一次加载</td></tr><tr><td>nomore()</td><td>加载到底，不能进行下一次加载</td></tr><tr><td>empty()</td><td>第一次加载数据为空,不能进行下一次加载</td></tr><tr><td>hide()</td><td>关闭组件</td></tr></tbody></table></div><h3 id="event" tabindex="-1">Event <a class="header-anchor" href="#event" aria-hidden="true">#</a></h3><div class="table-custom"><table><thead><tr><th>事件</th><th>说明</th></tr></thead><tbody><tr><td>tapme</td><td>组件被点击时触发给父级</td></tr></tbody></table></div>',9);const D=s(c,[["render",function(s,o,p,t,r,c){const D=e("VueJobs");return a(),n("div",null,[F,l(D),y])}]]);export{r as __pageData,D as default};
