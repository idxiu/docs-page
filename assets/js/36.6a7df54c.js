(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{444:function(s,t,a){s.exports=a.p+"assets/img/image-20210729224040426.aa7846c2.aa7846c2.png"},578:function(s,t,a){"use strict";a.r(t);var n=a(8),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"核心概念"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#核心概念"}},[s._v("#")]),s._v(" 核心概念")]),s._v(" "),t("h2",{attrs:{id:"helloworld"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#helloworld"}},[s._v("#")]),s._v(" HelloWorld")]),s._v(" "),t("p",[s._v("首先是创建项目，创建一个名字为"),t("code",[s._v("webpack-learn")]),s._v("的文件夹（这里千万别创建成"),t("code",[s._v("webpack")]),s._v("），并且进入文件夹使用"),t("code",[s._v("npm init")]),s._v("进行初始化：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建目录并且进入")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# webpack-learn")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 初始化")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" init -y\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装 webpack 和 webpack-cli到开发依赖")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i webpack@5 -D\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i webpack-cli@4 -D\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 注意这里安装的是webpack 5与webpack-cli 4的版本")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("p",[s._v("创建目录src，其结构如下：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://b3logfile.com/file/2021/10/da4a65467db84657b8c15b5de6d42817.png",alt:"image-20210729211229579"}})]),s._v(" "),t("p",[s._v("创建"),t("code",[s._v("hello-world.js")]),s._v("文件：")]),s._v(" "),t("div",{staticClass:"language-text line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("module.exports = 'hello world';\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("创建 "),t("code",[s._v("index.js")]),s._v("文件：")]),s._v(" "),t("div",{staticClass:"language-text line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("const sayHello = require('./hello-world')\n\nconsole.log(sayHello)\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("下面尝试一下webpack打包：")]),s._v(" "),t("div",{staticClass:"language-text line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('// 方法一\nnpx webpack\n\n// 方法二 scripts中添加 "start": "webpack"\nnpm run start\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("说明：")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("module.exports")]),s._v("与"),t("code",[s._v("require")]),s._v("是node.js所遵循的"),t("code",[s._v("Commonjs")]),s._v("规范；")]),s._v(" "),t("li",[t("code",[s._v("module.exports")]),s._v("导出了一个字符串；")]),s._v(" "),t("li",[t("code",[s._v("require")]),s._v("引用的如果是js文件，则可以省略；")])]),s._v(" "),t("p",[s._v("打包结果：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://b3logfile.com/file/2021/10/154303fac343439ab8c907d99f6f425c.png",alt:"image-20210729211452723"}})]),s._v(" "),t("p",[s._v("执行成功，index.js 文件被打包到了"),t("code",[s._v("dist")]),s._v("文件夹下了，同时提示我们默认使用了"),t("code",[s._v("production")]),s._v(" mode，即生产环境，打开"),t("code",[s._v("dist/main.js")]),s._v("，里面的代码的确是被压缩的，说明是生产环境打包；")]),s._v(" "),t("p",[s._v("下面继续修改"),t("code",[s._v("package.json")]),s._v("添加"),t("code",[s._v("scripts")]),s._v("：")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"dev"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"webpack --mode development"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"build"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"webpack --mode production"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://b3logfile.com/file/2021/10/d755457832014668be76264f5698beb0.png",alt:"image-20210729212308012"}})]),s._v(" "),t("p",[s._v("同样可以尝试"),t("code",[s._v("build")]),s._v("脚本，这里来说明一下这两个模式的内容，"),t("strong",[s._v("模式其实就是webpack内置了一些打包的参数。")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("选项")]),s._v(" "),t("th",[s._v("描述")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("development")])]),s._v(" "),t("td",[s._v("会将 "),t("code",[s._v("DefinePlugin")]),s._v(" 中 "),t("code",[s._v("process.env.NODE_ENV")]),s._v(" 的值设置为 "),t("code",[s._v("development")]),s._v(". 为模块和 chunk 启用有效的名。")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("production")])]),s._v(" "),t("td",[s._v("会将 "),t("code",[s._v("DefinePlugin")]),s._v(" 中 "),t("code",[s._v("process.env.NODE_ENV")]),s._v(" 的值设置为 "),t("code",[s._v("production")]),s._v("。为模块和 chunk 启用确定性的混淆名称，"),t("code",[s._v("FlagDependencyUsagePlugin")]),s._v("，"),t("code",[s._v("FlagIncludedChunksPlugin")]),s._v("，"),t("code",[s._v("ModuleConcatenationPlugin")]),s._v("，"),t("code",[s._v("NoEmitOnErrorsPlugin")]),s._v(" 和 "),t("code",[s._v("TerserPlugin")]),s._v(" 。")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("none")])]),s._v(" "),t("td",[s._v("不使用任何默认优化选项")])])])]),s._v(" "),t("p",[s._v("如果没有设置，webpack 会给 "),t("code",[s._v("mode")]),s._v(" 的默认值设置为 "),t("code",[s._v("production")]),s._v("。上面的内容，我们后续会介绍到！")]),s._v(" "),t("h2",{attrs:{id:"cli进阶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cli进阶"}},[s._v("#")]),s._v(" CLI进阶")]),s._v(" "),t("p",[s._v("一般的CLI的命令都会有一个"),t("code",[s._v("help")]),s._v("命令：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("➜ npx webpack "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),s._v("\n\nUsage: webpack "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("entries"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("options"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nAlternative usage to run commands: webpack "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("command"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("options"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\nThe build tool "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" modern web applications.\n\nOptions:\n  -c, --config "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("value"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("                Provide path to a webpack configuration "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" e.g. ./webpack.config.js.\n  --config-name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("value"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("               Name of the configuration to use.\n  -m, --merge                            Merge two or "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("more")]),s._v(" configurations using "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'webpack-merge'")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n  --env "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("value"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("                       Environment passed to the configuration when it is a function.\n  --node-env "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("value"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("                     Sets process.env.NODE_ENV to the specified value.\n  --progress "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("value"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("                     Print compilation progress during build.\n  -j, --json "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("value"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("                     Prints result as JSON or store it "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" a file.\n  -d, --devtool "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("value"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("                  Determine "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" maps to use.\n  --no-devtool                           Do not generate "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" maps.\n  --entry "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("value"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("                     The entry point"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" of your application e.g. ./src/main.js.\n  --mode "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("value"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("                         Defines the mode to pass to webpack.\n  --name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("value"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("                         Name of the configuration. Used when loading multiple configurations.\n  -o, --output-path "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("value"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("              Output location of the "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" generated by webpack e.g. ./dist/.\n  --stats "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("value"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("                        It instructs webpack on how to treat the stats e.g. verbose.\n  --no-stats                             Disable stats output.\n  -t, --target "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("value"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("                Sets the build target e.g. node.\n  --no-target                            Negative "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'target'")]),s._v(" option.\n  -w, --watch                            Watch "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" files changes.\n  --no-watch                             Do not "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("watch")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" changes.\n  --watch-options-stdin                  Stop watching when stdin stream has ended.\n  --no-watch-options-stdin               Do not stop watching when stdin stream has ended.\n\nGlobal options:\n  --color                                Enable colors on console.\n  --no-color                             Disable colors on console.\n  -v, --version                          Output the version number of "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'webpack'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'webpack-cli'")]),s._v(" and "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'webpack-dev-server'")]),s._v(" and commands.\n  -h, --help "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("verbose"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("                   Display "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" commands and options.\n\nCommands:\n  build"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("bundle"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("b "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("entries"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("options"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  Run webpack "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("default command, can be omitted"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(".\n  configtest"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("t "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("config-path"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("             Validate a webpack configuration.\n  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("h "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("command"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("option"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("              Display "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" commands and options.\n  info"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("i "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("options"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("                       Outputs information about your system.\n  serve"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("server"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("s "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("entries"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("            Run the webpack dev server. To see all available options you need to "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'webpack-dev-server'")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n  version"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("v")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("commands"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("                Output the version number of "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'webpack'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'webpack-cli'")]),s._v(" and "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'webpack-dev-server'")]),s._v(" and commands.\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("watch")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("w "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("entries"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("options"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("         Run webpack and "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("watch")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" files changes.\n\nTo see list of all supported commands and options run "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'webpack --help=verbose'")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n\nWebpack documentation: https://webpack.js.org/.\nCLI documentation: https://webpack.js.org/api/cli/.\nMade with ♥ by the webpack team.\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br")])]),t("p",[s._v("说明：")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("--config")]),s._v("，"),t("code",[s._v("-c")]),s._v("：指定一个 Webpack 配置文件的路径；")]),s._v(" "),t("li",[t("code",[s._v("--mode")]),s._v("：指定打包环境的 mode，取值为"),t("code",[s._v("development")]),s._v("和"),t("code",[s._v("production")]),s._v("，分别对应着开发环境和生产环境；")]),s._v(" "),t("li",[t("code",[s._v("--json")]),s._v("：输mode出 Webpack 打包的结果，可以使用"),t("code",[s._v("webpack --json > stats.json")]),s._v("方式将打包结果输出到指定的文件；")]),s._v(" "),t("li",[t("code",[s._v("--progress")]),s._v("：显示 Webpack 打包进度；")]),s._v(" "),t("li",[t("code",[s._v("--watch")]),s._v(", "),t("code",[s._v("-w")]),s._v("：watch 模式打包，监控文件变化之后重新开始打包；")])]),s._v(" "),t("h2",{attrs:{id:"配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置文件"}},[s._v("#")]),s._v(" 配置文件")]),s._v(" "),t("p",[s._v("Webpack 是可配置的模块打包工具，我们可以通过修改 Webpack 的配置文件（"),t("code",[s._v("webpack.config.js")]),s._v("）来对 Webpack 进行配置，Webpack 的配置文件是遵循 Node.js 的 CommonJS 模块规范的，即：")]),s._v(" "),t("ul",[t("li",[s._v("通过"),t("code",[s._v("require()")]),s._v("语法导入其他文件或者使用 Node.js 内置的模块")]),s._v(" "),t("li",[s._v("普通的 JavaScript 编写语法，包括变量、函数、表达式等")])]),s._v(" "),t("p",[s._v("说白了，"),t("code",[s._v("webpack.config.js")]),s._v("是一个 Node.js 的模块，简单的 webpack.config.js 示例")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" path "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'path'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("mode")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'development'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("entry")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/index.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("output")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("path")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" path"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'dist'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("filename")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'server.bundle.js'")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("上面示例中，使用 CommonJS 的"),t("code",[s._v("require")]),s._v("引入 Node.js 内置的"),t("code",[s._v("path")]),s._v("模块，然后通过"),t("code",[s._v("module.exports")]),s._v("将 Webpack 的配置导出。")]),s._v(" "),t("blockquote",[t("p",[s._v("Tips：Webpack 的配置是一个 Node.js 模块，所以并不只是 JSON 对象。")])]),s._v(" "),t("p",[s._v("默认情况下，Webpack 会查找执行目录下面的"),t("code",[s._v("webpack.config.js")]),s._v("作为配置，如果需要指定某个配置文件，可以使用下面的命令：")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("webpack -c webpack.config.js\n\n// 或者 默认读取根目录中的 webpack.config.js文件\nwebpack\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("如果 Webpack 不是全局安装，则可以在项目目录下实行：")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("node")]),s._v(" ./node_modules/webpack/bin/webpack --config webpack.config.js\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("或者使用"),t("code",[s._v("npx")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("npx webpack --config webpack.config.js\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("打包结果展示：")]),s._v(" "),t("p",[t("img",{attrs:{src:a(444),alt:"image-20210729224040426"}})]),s._v(" "),t("p",[s._v("说明：为什么main.js还在dist，别急，后面会进行打包之后删除；")]),s._v(" "),t("p",[s._v("除了配置文件的语法多样之外，对于配置的类型也是多样的，最常见的是直接作为一个对象来使用，除了使用对象，Webpack 还支持函数、Promise 和多配置数组。")]),s._v(" "),t("h2",{attrs:{id:"核心概念-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#核心概念-2"}},[s._v("#")]),s._v(" 核心概念")]),s._v(" "),t("p",[s._v("讲完 Webpack 配置文件，下面讲下配置文件中的配置项：")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("参数")]),s._v(" "),t("th",[s._v("说明")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("entry")])]),s._v(" "),t("td",[s._v("入口起点(entry point) 指示 webpack 应该使用哪个模块，来作为构建其内部 "),t("a",{attrs:{href:"https://webpack.docschina.org/concepts/dependency-graph/",target:"_blank",rel:"noopener noreferrer"}},[s._v("依赖图(dependency graph) "),t("strong",[s._v("(opens new window)")]),t("OutboundLink")],1),s._v("的开始。进入入口起点后，webpack 会找出有哪些模块和库是入口起点（直接和间接）依赖的。")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("output")])]),s._v(" "),t("td",[s._v("默认值是 "),t("code",[s._v("./src/index.js")]),s._v("output 属性告诉 webpack 在哪里输出它所创建的 "),t("em",[s._v("bundle")]),s._v(" ，以及如何命名这些文件。")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("mode")])]),s._v(" "),t("td",[s._v("通过选择 "),t("code",[s._v("development")]),s._v(", "),t("code",[s._v("production")]),s._v(" 或 "),t("code",[s._v("none")]),s._v(" 之中的一个，来设置 "),t("code",[s._v("mode")]),s._v(" 参数，可以启用 webpack 内置在相应环境下的优化。其默认值为 "),t("code",[s._v("production")]),s._v("。")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("loader")])]),s._v(" "),t("td",[s._v("模块转化器，模块的处理器，对模块进行转换处理；webpack 只能理解 JavaScript 和 JSON 文件，这是 webpack 开箱可用的自带能力。"),t("strong",[s._v("loader")]),s._v(" 让 webpack 能够去处理其他类型的文件，并将它们转换为有效 "),t("a",{attrs:{href:"https://webpack.docschina.org/concepts/modules",target:"_blank",rel:"noopener noreferrer"}},[s._v("模块 "),t("strong",[s._v("(opens new window)")]),t("OutboundLink")],1),s._v("，以供应用程序使用，以及被添加到依赖图中。")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("plugin")])]),s._v(" "),t("td",[s._v("插件则可以用于执行范围更广的任务。包括：打包优化，资源管理，注入环境变量。")])])])]),s._v(" "),t("p",[s._v("还有一些其他的概念：")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("参数")]),s._v(" "),t("th",[s._v("说明")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("module")])]),s._v(" "),t("td",[s._v("开发中每一个文件都可以看做 module，模块不局限于 js，也包含 css、图片等")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("chunk")])]),s._v(" "),t("td",[s._v("代码块，一个 chunk 可以由多个模块组成")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("bundle")])]),s._v(" "),t("td",[s._v("最终打包完成的文件，一般就是和 chunk 一一对应的关系，bundle 就是对 chunk 进行便意压缩打包等处理后的产出")])])])]),s._v(" "),t("blockquote",[t("p",[s._v("Webpack 不仅仅支持 js 配置，还支持 ts（TypeScript）、CoffeeScript 甚至 "),t("a",{attrs:{href:"https://reactjs.org/docs/introducing-jsx.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("JSX "),t("strong",[s._v("(opens new window)")]),t("OutboundLink")],1),s._v("语法的配置，不同语言其实核心配置项都不变，只不过语法不同而已 ——原因：是由于有很多不同的loaders！")])])])}),[],!1,null,null,null);t.default=e.exports}}]);